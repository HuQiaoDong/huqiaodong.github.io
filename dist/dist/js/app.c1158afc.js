(function(t){function n(n){for(var e,i,r=n[0],c=n[1],l=n[2],d=0,g=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&g.push(a[i][0]),a[i]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);u&&u(n);while(g.length)g.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,n=0;n<o.length;n++){for(var s=o[n],e=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(e=!1)}e&&(o.splice(n--,1),t=i(i.s=s[0]))}return t}var e={},a={app:0},o=[];function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,n,s){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(s,e,function(n){return t[n]}.bind(null,e));return s},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=n,r=r.slice();for(var l=0;l<r.length;l++)n(r[l]);var u=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,n,s){t.exports=s("56d7")},"0e08":function(t,n,s){"use strict";s.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("transition",{attrs:{name:"custom-classes-transition","leave-active-class":"animated fadeOutDown"}},[e("div",{staticClass:"music-player"},[e("div",{staticClass:"mask",style:{backgroundImage:"url("+t.imgUrl+")"}}),e("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.lyric?t._e():e("div",{staticClass:"cover"},[e("img",{staticClass:"needle",attrs:{src:s("ce19"),alt:""}}),e("img",{staticClass:"cover-img rotate",class:{active:t.isPlay},attrs:{src:t.imgUrl,alt:""}}),e("img",{staticClass:"border",attrs:{src:s("de4e"),alt:""},on:{click:function(n){t.lyric=!t.lyric}}})])]),e("header",[e("i",{staticClass:"fa fa-arrow-left",attrs:{"aria-hidden":"true"},on:{click:function(n){return t.closeWindow()}}}),e("div",{staticClass:"song-info"},[e("div",{staticClass:"songTitle"},[e("h3",[t._v(t._s(t.songName))]),e("span")]),e("p",[t._v(t._s(t.songAuthor))])])]),e("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.lyric,expression:"lyric"}],staticClass:"lyric"},[e("div",{staticClass:"volume-controler"},[e("i",{staticClass:"fa fa-volume-up",on:{click:t.controlVolume}}),e("div",{staticClass:"control-bar"},[e("span",{staticClass:"progress"}),e("span",{staticClass:"dragPoint volume"})])]),e("div",{staticClass:"wrap",on:{click:function(n){t.lyric=!t.lyric}}},[e("ul",{staticClass:"scroll",style:{transform:"translateY("+28*-t.currentLyricIndex+"px)"}},t._l(t.parsedLyric,(function(n,s){return e("li",{key:s,staticClass:"lyricRow",class:{active:s===t.currentLyricIndex}},[t._v(t._s(n.text))])})),0)])])]),e("footer",[e("div",{staticClass:"k-bar"},[e("span",{staticClass:"currentProgress"},[t._v(t._s(t.progressBarData?t.progressBarData.currentMinute+":"+t.progressBarData.currentSecond:"00:00"))]),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"control-bar"},[e("span",{staticClass:"progress",style:{width:t.progressBarData?t.progressBarData.time+"px":""}}),e("span",{staticClass:"dragPoint process",style:{left:t.progressBarData?t.progressBarData.t+"px":""}})])]),e("span",{staticClass:"totalProgress"},[t._v(t._s(t.progressBarData?t.progressBarData.songMinute+":"+t.progressBarData.songSecond:"00:00"))])]),e("div",{staticClass:"play-control"},[e("img",{staticClass:"con",attrs:{src:t.playWayIcon,alt:""},on:{click:t.changePlayWay}}),e("img",{staticClass:"con",attrs:{src:s("9336"),alt:""},on:{click:t.lastSong}}),t.isPlay?e("img",{staticClass:"ppp",attrs:{src:s("40a3"),alt:""},on:{click:function(n){return t.playState()}}}):e("img",{staticClass:"ppp",attrs:{src:s("3f60"),alt:""},on:{click:function(n){return t.playState()}}}),e("img",{staticClass:"con",attrs:{src:s("b2f3"),alt:""},on:{click:t.nextSong}}),e("img",{staticClass:"con",attrs:{src:s("a4eb"),alt:""},on:{click:t.showList}})])])],1)])},a=[],o=(s("99af"),s("d81d"),s("a9e3"),s("ac1f"),s("466d"),s("841c"),s("1276"),{data:function(){return{playWayIcon:s("4c22"),p_ShowPlayList:this.showPlayList,lyric:!1,currentLyric:null,currentLyricIndex:"",progressBarData:"",p_PlayWay:1,p_SongIndex:this.songIndex}},props:["currentSong","show","imgUrl","songName","songAuthor","isPlay","showPlayList","playWay","songIndex","newSongsData"],methods:{controlVolume:function(){var t=document.querySelector("audio");t&&(t.muted=!t.muted)},closeWindow:function(){this.playerShow=!this.show,this.$emit("close",this.playerShow),document.body.style.overflow=""},getLyric:function(){var t=this,n=window.localStorage.getItem("lyric"+this.currentSong.id);n?this.currentLyric=n:(console.log("get"),window.axios.get("lyric",{params:{id:this.currentSong.id}}).then((function(n){t.currentLyric=n.data.lrc.lyric,console.log(t.currentLyric),window.localStorage.setItem("lyric"+t.currentSong.id,n.data.lrc.lyric)})))},changePlayWay:function(){switch(this.p_PlayWay>=3?this.p_PlayWay=1:this.p_PlayWay++,this.p_PlayWay){case 1:this.playWayIcon=s("4c22");break;case 2:this.playWayIcon=s("60ae");break;case 3:this.playWayIcon=s("a36d");break;default:break}this.$emit("change-play-way",this.p_PlayWay)},lastSong:function(){this.p_SongIndex<=0?this.p_SongIndex=this.newSongsData.length-1:this.p_SongIndex--,this.$emit("trans-song-index",this.p_SongIndex)},playState:function(){this.$parent.changePlayStatus()},nextSong:function(){this.p_SongIndex>=this.newSongsData.length-1?this.p_SongIndex=0:this.p_SongIndex++,this.$emit("trans-song-index",this.p_SongIndex)},showList:function(){this.p_ShowPlayList=!this.p_ShowPlayList,this.$emit("trans-list-state",this.p_ShowPlayList)}},computed:{parsedLyric:function(){return this.currentLyric?this.currentLyric.split("\n").map((function(t){var n=/\d{2}:\d{2}\.\d+/i;if(-1!==t.search(n)){var s,e=t.match(n)[0],a=e.substr(0,2),o=e.substr(3,2),i=e.substr(5);return 4==i.length?s=11:3==i.length&&(s=10),{time:60*Number(a)+Number(o)+Number(i),text:t.substr(s)||"---------"}}return{}})):null}},mounted:function(){var t=this;this.show?document.body.style.overflow="hidden":document.body.style.overflow="";var n=this.$parent.$el.querySelector("audio"),s=this.$el.getElementsByClassName("dragPoint"),e=this.$el.getElementsByClassName("control-bar"),a=this.$el.getElementsByClassName("progress");this.$el.style.height="100vh",console.log(s,a,e),e[0].onmousedown=function(t){var o=window.event||t;if(0==o.button){var i=e[0].offsetWidth/100,r=(o.pageX-e[0].offsetLeft)/i/100,c=100*r*i-s[0].offsetWidth/2;r<=1&&r>=0&&(n.volume=r,a[0].style.width=100*r*i+"px",s[0].style.left=c+"px")}},s[0].addEventListener("touchstart",(function(t){var o=t||window.event;console.log(o,"拖拽开始"),s[0].addEventListener("touchmove",(function(t){var o=t||window.event,i=o.targetTouches[0];t.preventDefault();var r=e[0].offsetWidth/100,c=(i.pageX-e[0].offsetLeft)/r/100,l=100*c*r-s[0].offsetWidth/2;c<=1&&c>=0&&(n.volume=c,a[0].style.width=100*c*r+"px",s[0].style.left=l+"px")})),s[1].addEventListener("touchend",(function(t){t||window.event;t.preventDefault()}))})),e[1].onmousedown=function(t){var o=window.event||t;if(console.log("click"),0==o.button){n.currentTime=(o.pageX-e[1].offsetParent.offsetLeft-e[1].offsetLeft)/e[1].offsetWidth*n.duration;var i=e[1].offsetWidth/100,r=n.currentTime/n.duration*100*i;a[1].style.width=r+"px",s[1].style.left=r-s[1].offsetWidth/2+"px"}},s[1].addEventListener("touchstart",(function(t){t||window.event;s[1].addEventListener("touchmove",(function(t){var a=t||window.event,o=a.targetTouches[0];s[1].style.transform="scale(1.3)",t.preventDefault(),console.log(o),n.currentTime=(o.pageX-e[1].offsetParent.offsetLeft-e[1].offsetLeft)/e[1].offsetWidth*n.duration,n.muted=!0})),s[1].addEventListener("touchend",(function(t){t||window.event;s[1].style.transform="scale(1)",t.preventDefault(),n.muted=!1}))})),n.addEventListener("timeupdate",(function(){if(t.parsedLyric){for(var o,i=0;i<t.parsedLyric.length;i++)if(n.currentTime+.15<t.parsedLyric[i].time){o=i-1;break}void 0===o&&(o=t.parsedLyric.length-1),t.currentLyricIndex=o}var r=e[1].offsetWidth/100,c=n.currentTime/n.duration*100*r;a[1].style.width=c+"px";var l=c-s[1].offsetWidth/2;s[1].style.left=l+"px";var u=Math.floor(n.currentTime/60),d=Math.floor(n.currentTime%60);u=Math.floor(n.currentTime/60)<10?"0"+u:u,d=Math.floor(n.currentTime%60)<10?"0"+d:d;var g=Math.floor(n.duration/60),f=Math.floor(n.duration%60);g=Math.floor(n.duration/60)<10?"0"+g:g,f=Math.floor(n.duration%60)<10?"0"+f:f,t.$el.querySelector(".currentProgress").innerHTML="".concat(u,":").concat(d),n.paused&&(t.progressBarData={currentMinute:u,currentSecond:d,songMinute:g,songSecond:f,time:c,t:l}),t.$el.querySelector(".totalProgress").innerHTML="".concat(g,":").concat(f)}))},created:function(){this.getLyric()},watch:{show:function(t){document.body.style.overflow=t?"hidden":"";var n=this.$parent.$el.querySelector("audio"),s=this.$el.getElementsByClassName("dragPoint"),e=this.$el.getElementsByClassName("control-bar"),a=this.$el.getElementsByClassName("progress"),o=e[1].offsetWidth/100,i=n.currentTime/n.duration*100*o;a[1].style.width=i+"px";var r=i-s[1].offsetWidth/2;s[1].style.left=r+"px"},lyric:function(t){var n=this.$parent.$el.querySelector("audio"),s=this.$el.getElementsByClassName("control-bar"),e=this.$el.getElementsByClassName("dragPoint"),a=this.$el.getElementsByClassName("progress");n.volume=.5,console.log(s[0].offsetWidth/2,s[0].offsetWidth/2-e[0].offsetWidth/2),a[0].style.width=s[0].offsetWidth/2+"px",e[0].style.left=s[0].offsetWidth/2-e[0].offsetWidth/2+"px"},currentSong:function(t){this.getLyric()},showPlayList:function(t){this.$emit("trans-list-state",this.showPlayList),this.showPlayList&&this.show?(console.log("xxx"),document.body.style.overflow="hidden"):!this.showPlayList&&this.show&&(console.log("ggg"),document.body.style.overflow="hidden")},songIndex:function(t){this.p_SongIndex=t},playWay:function(t){switch(this.p_PlayWay=t,this.p_PlayWay){case 1:this.playWayIcon=s("4c22");break;case 2:this.playWayIcon=s("60ae");break;case 3:this.playWayIcon=s("a36d");break;default:break}this.$emit("change-play-way",this.p_PlayWay)}}}),i=o,r=(s("397d"),s("2877")),c=Object(r["a"])(i,e,a,!1,null,"5e7a0222",null);n["default"]=c.exports},1038:function(t,n,s){t.exports=s.p+"img/stop.e62060c8.svg"},1700:function(t,n,s){},2395:function(t,n,s){},"25d1":function(t,n,s){},2610:function(t,n,s){t.exports=s.p+"img/PlayList.bc8098de.svg"},"27d6":function(t,n,s){"use strict";var e=s("efe0"),a=s.n(e);a.a},"29b3":function(t,n,s){t.exports=s.p+"img/hot_music_bg_2x.f01a2523.jpg"},3864:function(t,n,s){"use strict";s.r(n);var e=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",{attrs:{id:"nav"}},[s("li",[s("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),s("li",[s("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),s("li",[s("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},a=[],o={},i=o,r=s("2877"),c=Object(r["a"])(i,e,a,!1,null,"175dd004",null);n["default"]=c.exports},"397d":function(t,n,s){"use strict";var e=s("25d1"),a=s.n(e);a.a},"3f60":function(t,n,s){t.exports=s.p+"img/play2.1f23dc98.svg"},"40a3":function(t,n,s){t.exports=s.p+"img/stop2.330818f1.svg"},"4c22":function(t,n,s){t.exports=s.p+"img/order2.6d35b4fe.svg"},"4f34":function(t,n,s){"use strict";s.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"player"},[e("div",{staticClass:"info-scope",on:{click:function(n){t.show=!t.show}}},[e("img",{staticClass:"rotate",class:{active:t.isPlay},attrs:{src:t.imgUrl(t.songInfo),alt:""}}),""!=t.songInfo?e("div",{staticClass:"songInfo"},[e("h5",{staticClass:"s-name"},[t._v(t._s(t.songName(t.songInfo)))]),e("span",{staticClass:"author"},[t._v(t._s(t.songAuthor(t.songInfo)))])]):t._e()]),e("div",{staticClass:"control"},[e("canvas",{class:{border:!t.isPlay},attrs:{id:"play-progress",width:"25.5",height:"25.5"},on:{click:t.changePlayStatus}}),t.isPlay?e("img",{attrs:{src:s("1038")}}):e("img",{attrs:{src:s("5830"),alt:""}}),e("img",{attrs:{src:s("2610"),alt:""},on:{click:function(n){t.showPlayList=!t.showPlayList}}})]),e("audio",{staticStyle:{display:"none"},attrs:{src:t.songUrl,controls:""}}),e("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPlayList,expression:"showPlayList"}],staticClass:"mask",on:{touchstart:function(n){t.showPlayList=!t.showPlayList}}})]),e("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[e("CurrentPlayList",{directives:[{name:"show",rawName:"v-show",value:t.showPlayList,expression:"showPlayList"}],attrs:{newSongsData:t.newSongsData,currentSongInfo:t.songInfo,showPlayList:t.showPlayList,playWay:t.playWay},on:{"tran-song-id":function(n){return t.$parent.getCurrentSongUrl(n)},"change-play-way":function(n){t.playWay=n}}})],1),e("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},[e("BaseMusicPlayer",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],attrs:{currentSong:t.songInfo,imgUrl:t.imgUrl(t.songInfo),songName:t.songName(t.songInfo),songAuthor:t.songAuthor(t.songInfo),show:t.show,isPlay:t.isPlay,showPlayList:t.showPlayList,playWay:t.playWay,songIndex:t.songIndex,newSongsData:t.newSongsData},on:{close:function(n){return t.closeWindow(n)},"trans-list-state":function(n){t.showPlayList=n},"change-play-way":function(n){t.playWay=n},"trans-song-index":function(n){t.c_SongIndex=n}}})],1)],1)},a=[],o=(s("b0c0"),function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"current-play-list"},[s("header",[s("h3",[s("span",[t._v("当前播放")]),s("span",[t._v(t._s("("+t.newSongsData.length+")"))])]),s("div",{staticClass:"playway",on:{click:t.switchPlayWay}},[s("img",{attrs:{src:t.playWayIcon,alt:""}}),s("span",[t._v(t._s(t.playWayText))])])]),s("ul",{staticClass:"playlist"},t._l(t.newSongsData,(function(n,e){return s("li",{key:e},[s("div",{staticClass:"songInfo",on:{click:function(s){return t.playIndex(n,e)}}},[s("span",{class:t.currentSongInfo.id==n.id?"playing":""},[t._v(t._s(n.name||n.song.name||n.al.name))]),s("span",{class:t.currentSongInfo.id==n.id?"playing":""},[t._v("-"+t._s(t.getArticleInfo(n)))])]),s("em",[t._v("x")])])})),0)])}),i=[],r=(s("a15b"),s("d81d"),{name:"CurrentPlayList",props:["newSongsData","currentSongInfo","playWay"],data:function(){return{playList:this.newSongsData,songIndex:"",l_PlayWay:1,playWayIcon:s("c93c"),playWayText:"列表循环"}},components:{},methods:{switchPlayWay:function(){switch(this.l_PlayWay>=3?this.l_PlayWay=1:this.l_PlayWay++,this.l_PlayWay){case 1:this.playWayIcon=s("c93c"),this.playWayText="列表循环";break;case 2:this.playWayIcon=s("a4e3"),this.playWayText="单曲循环";break;case 3:this.playWayIcon=s("dd6e"),this.playWayText="随机播放";break;default:break}this.$emit("change-play-way",this.l_PlayWay)},getArticleInfo:function(t){return t.song?t.song.artists.map((function(t){return t.name})).join("/"):t.ar?t.ar.map((function(t){return t.name})).join("/"):t.artists?t.artists.map((function(t){return t.name})).join("/"):void 0},playIndex:function(t,n){this.$emit("tran-song-id",t),console.log(n)}},watch:{currentSongInfo:function(t){console.log("当前歌曲",t)},playWay:function(t){switch(this.l_PlayWay=t,this.l_PlayWay){case 1:this.playWayIcon=s("c93c"),this.playWayText="列表循环";break;case 2:this.playWayIcon=s("a4e3"),this.playWayText="单曲循环";break;case 3:this.playWayIcon=s("dd6e"),this.playWayText="随机播放";break;default:break}}},mounted:function(){}}),c=r,l=(s("ed2a"),s("2877")),u=Object(l["a"])(c,o,i,!1,null,"6bd42f6e",null),d=u.exports,g={props:["songUrl","songInfo","newSongsData","songIndex"],created:function(){},components:{CurrentPlayList:d},data:function(){return{scroll:!1,c_SongIndex:this.songIndex,playWay:1,isPlay:!1,show:!1,showPlayList:!1,defalutPic:"../../assets/defaultImg.png",currentSongInfo:this.songInfo}},computed:{},methods:{imgUrl:function(t){return t.picUrl?t.picUrl:t.al?t.al.picUrl:t.artists?t.artists[0].img1v1Url:void 0},songName:function(t){return t.song?this.songInfo.song.name:t.al||t?t.name:void 0},songAuthor:function(t){return t.song?t.song.artists[0].name:t.ar?t.ar[0].name:t.artists?t.artists[0].name:void 0},changePlayStatus:function(){this.isPlay=!this.isPlay,console.log(this.$el.querySelector("audio")),this.isPlay?this.$el.querySelector("audio").play():this.$el.querySelector("audio").pause()},closeWindow:function(t){this.show=t},drawProgress:function(){var t=this.$el.querySelector("audio"),n=this.$el.querySelector("canvas"),s=n.getContext("2d"),e=this;t.onloadstart=function(){e.isPlay=!1},t.oncanplay=function(){t.play(),e.isPlay=!0},t.onplay=function(){e.isPlay=!0},t.onpause=function(){e.isPlay=!1},t.ontimeupdate=function(){var n=this.currentTime/this.duration*100/50;if(s.clearRect(0,0,26,26),s.beginPath(),s.strokeStyle="#FF0000",s.lineWidth=1,s.arc(12.5,12.5,12.3,0,n*Math.PI),s.stroke(),s.closePath(),t.ended){switch(e.playWay){case 1:e.c_SongIndex>=e.newSongsData.length-1?e.c_SongIndex=0:e.c_SongIndex++,e.$emit("tran-song-index",e.c_SongIndex);break;case 2:e.c_SongIndex,t.play();break;case 3:e.c_SongIndex=Math.floor(Math.random()*e.newSongsData.length),e.$emit("tran-song-index",e.c_SongIndex);break}console.log(e.c_SongIndex)}}}},mounted:function(){this.drawProgress()},watch:{showPlayList:function(t){this.showPlayList?document.body.style.overflow="hidden":document.body.style.overflow=""},c_SongIndex:function(t){this.$emit("trans-song-index",t)},songIndex:function(t){this.c_SongIndex=t},show:function(){document.body.style.overflow=""}}},f=g,p=(s("a647"),Object(l["a"])(f,e,a,!1,null,"bea20cba",null));n["default"]=p.exports},"4fbd":function(t,n,s){},5357:function(t,n,s){"use strict";var e=s("d209"),a=s.n(e);a.a},"56d7":function(t,n,s){"use strict";s.r(n);s("4160"),s("d3b7"),s("ac1f"),s("5319"),s("1276"),s("159b"),s("ddb0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var e=s("2b0e"),a=s("bc3a"),o=s.n(a),i={baseURL:"https://music.kele8.cn"},r=o.a.create(i);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},e["a"].use(Plugin);Plugin;var c=s("8c4f"),l=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[t.showLoading?e("div",{staticClass:"loading"},[e("img",{attrs:{src:s("803f"),alt:""}})]):t._e(),e("BaseHomeLink"),e("div",{staticClass:"personlized"},[e("CardTitle",{staticClass:"card-title"},[t._v("推荐歌单")]),e("div",{staticClass:"personlized-list"},t._l(t.randomPersonlizeds(),(function(t,n){return e("SongListCard",{key:n,staticClass:"songlistcard",attrs:{item:t}})})),1)],1),e("div",{staticClass:"newsong",class:[t.currentSongInfo?"margin-bottom-40px":""]},[e("CardTitle",{staticClass:"card-title"},[t._v("最新音乐")]),t._l(t.newsongs,(function(n,s){return e("NewSongItem",{key:s,ref:"childs",refInFor:!0,attrs:{item:n,newsongs:t.newsongs,currentSongInfo:t.currentSongInfo},nativeOn:{click:function(e){return t.sendSongId(n,s,t.newsongs)}}})}))],2)],1)},u=[],d=(s("fb6a"),s("b0c0"),s("2909")),g=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"title"},[s("h3",[t._t("default")],2)])},f=[],p={},h=p,y=(s("27d6"),s("2877")),m=Object(y["a"])(h,g,f,!1,null,"6306e041",null),v=m.exports,w=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("li",{staticClass:"card",on:{click:function(n){return t.routerPlayListPage(t.item.id,t.playCount)}}},[s("div",{staticClass:"thumb"},[s("img",{attrs:{src:t.item.picUrl,alt:""}}),s("span",[s("i",{staticClass:"fa fa-headphones",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.playCount)+" ")])]),s("h5",[t._v(t._s(t.item.name))])])},_=[],S=(s("b680"),s("25f0"),{data:function(){return{playCount:""}},props:{item:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},methods:{getPlayCount:function(t){return t.toString().length>=9?(t/1e8).toFixed(1)+"亿":(t/1e4).toFixed(1)+"万"},routerPlayListPage:function(t,n){this.$router.push({path:"/playlist",query:{id:t,playcount:n}})}},created:function(){this.playCount=this.getPlayCount(this.item.playCount)}}),x=S,C=(s("a423"),Object(y["a"])(x,w,_,!1,null,"a3073732",null)),I=C.exports,b=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ul",{staticClass:"list"},[s("li",{staticClass:"song-item"},[s("div",{staticClass:"top"},[s("div",{staticClass:"song-name"},[t._v(" "+t._s(t.item.name)+" "),s("span",{staticClass:"desc",attrs:{title:t.item.song.alias?t.item.song.alias[0]:""}},[t._v(t._s(t.item.song.alias?t.item.song.alias[0]:""))])])]),s("p",{staticClass:"bottom"},[s("i",{staticClass:"icon icon-quality"}),s("span",[t._v(t._s(t.getArticleInfo(t.item)))])])]),s("i",{class:[t.currentSongInfo.id==t.item.id?t.playing:t.pause]})])},P=[],L=(s("a15b"),s("d81d"),{name:"NewSongItem",props:["item","isplay","newsongs","currentSongInfo"],data:function(){return{playing:{fa:!0,"fa-volume-up":!0},pause:{icon:!0,"icon-play":!0}}},methods:{getArticleInfo:function(t){return t.song.artists.map((function(t){return t.name})).join("/")+"-"+t.song.album.name}}}),k=L,W=(s("6ca7"),Object(y["a"])(k,b,P,!1,null,"517f8bd4",null)),D=W.exports,$={name:"Home",data:function(){return{showLoading:"",personalized:[],newsongs:[]}},props:["currentSongInfo"],components:{CardTitle:v,SongListCard:I,NewSongItem:D},methods:{getPersonalized:function(){var t=this;this.end=this.end+6,console.log(this.end),this.axios.get("/personalized").then((function(n){console.log("缓存失效,Ajax重新获取歌单");var s=n.data.result;t.personalized=s,window.localStorage.setItem("personalized",JSON.stringify({expire:Date.now()+1728e4,result:n.data.result})),s.forEach((function(t,n){console.log("今日歌单",t.name,n)})),t.updatePersonalizeds++})).catch((function(t){console.log(t)}))},sendSongId:function(t,n,s){console.log(t.id),this.$emit("tran-song-id",t),this.$emit("tran-song-data",s)},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(n){t.newsongs=n.data.result,window.localStorage.setItem("newsong",JSON.stringify({expire:Date.now()+1728e4,result:n.data.result}))})).catch((function(t){console.log(t)}))},randomPersonlizeds:function(){return Object(d["a"])(this.personalized).slice(0,6)}},created:function(){console.log("Home被创建");var t=JSON.parse(window.localStorage.getItem("personalized"));t&&t.expire>Date.now()?(this.personalized=t.result,console.log("从缓存中获取推荐歌单数据")):this.getPersonalized();var n=JSON.parse(window.localStorage.getItem("newsong"));n&&n.expire>Date.now()?(this.newsongs=n.result,console.log("从缓存中获取推荐音乐数据")):this.getNewSong()},beforeRouteEnter:function(t,n,s){s((function(t){t.showLoading=!1}))},beforeRouteLeave:function(t,n,s){this.showLoading=!0,s()}},O=$,N=(s("66c1"),Object(y["a"])(O,l,u,!1,null,"56ec9f7b",null)),j=N.exports,E=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"playlist"},[s("header",{staticClass:"header"},[s("i",{staticClass:"fa fa-arrow-left",on:{click:t.returnLastRouter}}),s("div",{staticClass:"mask",style:{backgroundImage:"url("+t.songListDetail.coverImgUrl+")"}}),s("div",{staticClass:"left"},[s("img",{attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),s("span",[s("i",{staticClass:"fa fa-headphones",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.playCount)+" ")]),s("i",{staticClass:"gedan-icon"},[t._v("歌单")])]),s("div",{staticClass:"right"},[s("h2",[t._v(t._s(t.songListDetail.name))]),s("div",{staticClass:"actor"},[s("img",{attrs:{src:t.songListDetail?t.songListDetail.creator.avatarUrl:"",alt:""}}),s("span",[t._v(t._s(t.songListDetail?t.songListDetail.creator.nickname:""))])])])]),s("div",{staticClass:"info"},[""!=t.tags?s("div",{staticClass:"tags"},[s("label",[t._v("标签：")]),t._l(t.tags,(function(n,e){return s("span",{key:e},[t._v(t._s(n))])}))],2):t._e(),s("div",{on:{click:function(n){return t.ctlDescHidden()}}},[s("div",{class:t.descClass},[t._v("简介："+t._s(t.songListDetail.description))]),s("i",{staticClass:"fa drop-down",class:[t.descClass.hidden?"fa-angle-down":"fa-angle-up"]})])]),s("div",{staticClass:"songList",class:[t.currentSongInfo?"margin-bottom-40px":""]},[s("p",{staticClass:"title"},[t._v("歌曲列表")]),t._l(t.songListDetail.tracks,(function(n,e){return s("li",{key:e,staticClass:"song-item",on:{click:function(s){return t.sendDataToControler(n,t.songListDetail.tracks)},touchstart:function(n){t.playing=!t.playing}}},[s("div",{staticClass:"index"},[t._v(t._s(e+1))]),s("div",{staticClass:"songinfo"},[s("div",{staticClass:"top"},[s("div",{staticClass:"song-name"},[t._v(" "+t._s(n.name)+" "),s("span",{staticClass:"desc",attrs:{title:n.alia[0]}},[t._v(t._s(n.alia[0]))])])]),s("p",{staticClass:"bottom"},[s("span",[t._v(t._s(t.getArticleInfo(n)))])]),t.currentSongInfo&&t.currentSongInfo.id==n.id?s("i",{staticClass:"fa fa-volume-up"}):s("i",{staticClass:"icon icon-play"})])])}))],2)])},U=[],T={name:"PlayList",data:function(){return{playing:!1,songListId:this.$route.query.id,playCount:this.$route.query.playcount,songListDetail:"",tags:[],descClass:{hidden:!0,description:!0}}},props:["currentSongInfo"],methods:{getSongListDetail:function(){var t=this;this.axios.get("/playlist/detail",{params:{id:this.songListId}}).then((function(n){t.songListDetail=n.data.playlist,t.tags=n.data.playlist.tags,window.localStorage.setItem("sl-"+t.$route.query.id,JSON.stringify({expire:3*Date.now()*60*60*1e3,result:n.data.playlist}))})).catch((function(t){console.log(t)}))},ctlDescHidden:function(){this.descClass.hidden=!this.descClass.hidden},getArticleInfo:function(t){return t.ar.map((function(t){return t.name})).join("/")+"-"+t.al.name},returnLastRouter:function(){this.$router.go(-1)},sendDataToControler:function(t,n){console.log(t,n),this.$emit("tran-song-id",t),this.$emit("tran-song-data",n)}},beforeRouteEnter:function(t,n,s){var e=JSON.parse(window.localStorage.getItem("sl-".concat(t.query.id)));if(e&&e.expire>Date.now()){console.log("从缓存取出数据");var a=e.result,o=a.tags;s((function(n){n.songListId=t.query.id,n.songListDetail=a,n.tags=o}))}else window.axios.get("/playlist/detail",{params:{id:t.query.id}}).then((function(n){console.log(n);var e=n.data.playlist,a=n.data.playlist.tags;s((function(n){n.songListId=t.query.id,n.songListDetail=e,n.tags=a})),window.localStorage.setItem("sl-"+t.query.id,JSON.stringify({expire:3*Date.now()*60*60*1e3,result:n.data.playlist}))})).catch((function(t){console.log(t)}))}},B=T,M=(s("da99"),Object(y["a"])(B,E,U,!1,null,"22e812c6",null)),q=M.exports,A=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"hot"},[s("BaseHomeLink"),t._m(0),s("ul",{staticClass:"list"},t._l(t.hotSongs.tracks,(function(n,e){return s("li",{key:e,staticClass:"song-item",on:{click:function(s){return t.sendSongId(n,t.hotSongs.tracks)}}},[e+1<10?s("div",{staticClass:"index",class:[e+1<=3?"red":""]},[t._v(t._s("0"+(e+1)))]):s("div",{staticClass:"index"},[t._v(t._s(e+1))]),s("div",{staticClass:"songinfo"},[s("div",{staticClass:"top"},[s("div",{staticClass:"song-name"},[t._v(" "+t._s(n.name)+" "),s("span",{staticClass:"desc",attrs:{title:n.alias?n.alias[0].name:""}},[t._v(t._s(n.alias?n.alias[0].name:""))])])]),s("p",{staticClass:"bottom"},[s("i",{staticClass:"icon icon-quality"}),s("span",[t._v(t._s(t.getArticleInfo(n)))])]),s("i",{class:[t.currentSongInfo.id==n.id?t.playing:t.pause]})])])})),0)],1)},z=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"title-img"},[e("img",{attrs:{src:s("29b3"),alt:""}}),e("div",{staticClass:"hot-desc"}),e("span")])}],H={data:function(){return{hotSongs:null,playing:{fa:!0,"fa-volume-up":!0},pause:{icon:!0,"icon-play":!0}}},props:["currentSongInfo"],methods:{getHotSongList:function(){var t=this;this.axios.get("/top/list",{params:{idx:1}}).then((function(n){t.hotSongs=n.data.playlist,window.localStorage.setItem("hotsong",JSON.stringify({expire:3*Date.now()*60*60*1e3,result:n.data.playlist}))})).catch((function(t){console.log(t)}))},getArticleInfo:function(t){return t.ar.map((function(t){return t.name})).join("/")+"-"+t.al.name},sendSongId:function(t,n){this.$emit("tran-song-id",t),this.$emit("tran-song-data",n)}},created:function(){var t=JSON.parse(window.localStorage.getItem("hotsong"));t&&t.expire>Date.now()?(this.hotSongs=t.result,console.log("从缓存中获取热歌榜数据")):this.getHotSongList()}},J=H,R=(s("5357"),Object(y["a"])(J,A,z,!1,null,"1e9cf01d",null)),F=R.exports,X=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"search"},[s("BaseHomeLink"),s("div",{staticClass:"search-box"},[s("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.keywords},on:{click:function(n){t.searchSongsData=""},input:function(n){n.target.composing||(t.keywords=n.target.value)}}}),s("div",{staticClass:"delete"})]),t.searchSongsData?t._e():s("div",[t.keywords?t._e():s("div",{staticClass:"hot-search"},[s("h5",[t._v("热门搜索")]),s("div",{staticClass:"tags"},t._l(t.hotSearch,(function(n,e){return s("span",{key:e,on:{click:function(s){return t.getSongList(n.first)}}},[t._v(t._s(n.first))])})),0)]),t.keywords?s("h3",[t._v("搜索"+t._s("“"+t.keywords+"”"))]):t._e(),t.keywords?s("ul",{staticClass:"search-suggestions"},t._l(t.suggestions,(function(n,e){return s("li",{key:e,on:{click:function(s){return t.getSongList(n.keyword)}}},[s("i",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(n.keyword)+" ")])})),0):t._e()]),t.searchSongsData?s("ul",{staticClass:"list",class:[t.currentSongInfo?"margin-bottom-40px":""]},t._l(t.searchSongsData,(function(n,e){return s("li",{key:e,staticClass:"song-item",on:{click:function(s){return t.play(n)}}},[s("div",{staticClass:"top"},[s("div",{staticClass:"song-name"},[t._v(" "+t._s(n.name)+" "),s("span",{staticClass:"desc",attrs:{title:n.alias?n.alias[0]:""}},[t._v(t._s(n.alias?n.alias[0]:""))])])]),s("p",{staticClass:"bottom"},[s("i",{staticClass:"icon icon-quality"}),s("span",[t._v(t._s(t.getArticleInfo(n)))])]),s("i",{class:[t.currentSongInfo.id==n.id?t.playing:t.pause]})])})),0):t._e()],1)},G=[],V={data:function(){return{keywords:"",suggestions:"",hotSearch:"",searchSongsData:"",playing:{fa:!0,"fa-volume-up":!0},pause:{icon:!0,"icon-play":!0}}},props:["currentSongInfo"],methods:{getArticleInfo:function(t){return t.artists.map((function(t){return t.name})).join("/")+"-"+t.album.name},play:function(t){console.log(this.$parent.newSongsData),this.$parent.newSongsData.push(t),console.log(this.$parent.newSongsData),this.$emit("tran-song-id",t)},translateMsg:function(t){var n=this;this.axios.get("/search/suggest",{params:{keywords:t,type:"mobile"}}).then((function(t){console.log(t),n.suggestions=t.data.result.allMatch})).catch((function(t){console.log(t)}))},getSongList:function(t){var n=this;this.axios.get("/search",{params:{keywords:t}}).then((function(t){console.log(t),n.searchSongsData=t.data.result.songs})).catch((function(t){console.log(t)}))}},created:function(){var t=this;this.axios.get("/search/hot").then((function(n){console.log(n),t.hotSearch=n.data.result.hots})).catch((function(t){console.log(t)}))},watch:{keywords:function(t){this.translateMsg(t)}}},Q=V,Y=(s("d319"),Object(y["a"])(Q,X,G,!1,null,"dd7643a8",null)),Z=Y.exports;e["a"].use(c["a"]);var K=[{path:"/",name:"Home",component:j},{path:"/playlist",name:"PlayList",component:q},{path:"/hot",name:"Hot",component:F},{path:"/search",name:"Search",component:Z}],tt=new c["a"]({routes:K}),nt=tt,st=s("8103"),et=s.n(st),at=s("bba4"),ot=s.n(at),it=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{attrs:{id:"app"}},[s("router-view",{attrs:{currentSongInfo:t.currentSongInfo},on:{"tran-song-id":function(n){return t.getCurrentSongUrl(n)},"tran-song-data":function(n){t.newSongsData=n}}}),""!=t.currentSongUrl?s("BaseMusicControler",{attrs:{songUrl:t.currentSongUrl,songInfo:t.currentSongInfo,newSongsData:t.newSongsData,songIndex:t.songIndex},on:{"trans-song-index":function(n){t.songIndex=n}}}):t._e()],1)},rt=[],ct={data:function(){return{currentSongInfo:"",currentSongUrl:"",newSongsData:[],songIndex:""}},methods:{getCurrentSongUrl:function(t){this.currentSongInfo=t,this.currentSongUrl="https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),console.log(this.currentSongUrl)}},mounted:function(){window.onload=function(){console.log("应用创建")}},created:function(){},watch:{currentSongInfo:function(t){var n=this;console.log(this.currentSongInfo),t&&this.newSongsData.forEach((function(t,s){n.currentSongInfo==t&&(console.log(s),n.songIndex=s)})),console.log(t)},songIndex:function(t){this.getCurrentSongUrl(this.newSongsData[t])}}},lt=ct,ut=(s("7c55"),Object(y["a"])(lt,it,rt,!1,null,null,null)),dt=ut.exports;e["a"].config.productionTip=!1;var gt=s("98f1");gt.keys().forEach((function(t){var n=gt(t),s=et()(ot()(t.split("/").pop().replace(/\.\w+$/,"")));e["a"].component(s,n.default||n)})),new e["a"]({router:nt,render:function(t){return t(dt)}}).$mount("#app")},5830:function(t,n,s){t.exports=s.p+"img/play.d9a8cc1b.svg"},"60ae":function(t,n,s){t.exports=s.p+"img/loop2.1d284e2e.svg"},"66c1":function(t,n,s){"use strict";var e=s("8113"),a=s.n(e);a.a},"6ba1":function(t,n,s){},"6ca7":function(t,n,s){"use strict";var e=s("bcdc"),a=s.n(e);a.a},"79f1":function(t,n,s){},"7c55":function(t,n,s){"use strict";var e=s("2395"),a=s.n(e);a.a},"803f":function(t,n,s){t.exports=s.p+"img/playing.8892a2b6.svg"},8113:function(t,n,s){},9336:function(t,n,s){t.exports=s.p+"img/prev.0ce571ee.svg"},"98f1":function(t,n,s){var e={"./BaseComponents/BaseHomeLink.vue":"3864","./BaseComponents/BaseMusicControler.vue":"4f34","./BaseComponents/BaseMusicPlayer.vue":"0e08"};function a(t){var n=o(t);return s(n)}function o(t){if(!s.o(e,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e[t]}a.keys=function(){return Object.keys(e)},a.resolve=o,t.exports=a,a.id="98f1"},a36d:function(t,n,s){t.exports=s.p+"img/random2.7b50885e.svg"},a423:function(t,n,s){"use strict";var e=s("6ba1"),a=s.n(e);a.a},a4e3:function(t,n,s){t.exports=s.p+"img/loop.1e3ff3fe.svg"},a4eb:function(t,n,s){t.exports=s.p+"img/PlayList2.7e58c8e7.svg"},a647:function(t,n,s){"use strict";var e=s("4fbd"),a=s.n(e);a.a},b2f3:function(t,n,s){t.exports=s.p+"img/next.ce6099ec.svg"},bcdc:function(t,n,s){},c93c:function(t,n,s){t.exports=s.p+"img/order.fcc5de72.svg"},ce19:function(t,n,s){t.exports=s.p+"img/needle.702cf6d9.png"},d209:function(t,n,s){},d319:function(t,n,s){"use strict";var e=s("d466"),a=s.n(e);a.a},d466:function(t,n,s){},da99:function(t,n,s){"use strict";var e=s("1700"),a=s.n(e);a.a},dd6e:function(t,n,s){t.exports=s.p+"img/random.cbf38105.svg"},de4e:function(t,n,s){t.exports=s.p+"img/disc-ip6.69796123.png"},ed2a:function(t,n,s){"use strict";var e=s("79f1"),a=s.n(e);a.a},efe0:function(t,n,s){}});
//# sourceMappingURL=app.c1158afc.js.map