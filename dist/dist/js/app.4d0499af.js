(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],d=0,f=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var l=n[r];0!==a[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},i=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0234":function(t,e,n){"use strict";var s=n("d72f"),a=n.n(s);a.a},"0e08":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"custom-classes-transition","leave-active-class":"animated fadeOutDown"}},[s("div",{staticClass:"music-player"},[s("div",{staticClass:"mask",style:{backgroundImage:"url("+t.currentSong.picUrl+")"}}),s("div",{staticClass:"cover"},[s("img",{staticClass:"needle",attrs:{src:n("ce19"),alt:""}}),s("img",{staticClass:"cover-img",attrs:{src:t.currentSong.picUrl,alt:""}}),s("img",{staticClass:"border",attrs:{src:n("de4e"),alt:""}})]),s("header",[s("i",{staticClass:"fa fa-arrow-left",attrs:{"aria-hidden":"true"},on:{click:t.closeWindow}}),s("div",{staticClass:"song-info"},[s("h3",[t._v(t._s(t.currentSong.song.name))]),s("p",[t._v(t._s(t.currentSong.song.artists[0].name))])])]),s("footer")])])},a=[],i={mounted:function(){document.body.style.overflow="hidden",console.log(this.currentSong.picUrl),this.$el.style.height=window.innerHeight+"px"},data:function(){return{}},props:["currentSong"],methods:{closeWindow:function(){document.body.style.overflow=""}}},o=i,r=(n("95f2"),n("2877")),l=Object(r["a"])(o,s,a,!1,null,"69c90a41",null);e["default"]=l.exports},1813:function(t,e,n){},2395:function(t,e,n){},"27d6":function(t,e,n){"use strict";var s=n("efe0"),a=n.n(s);a.a},3864:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{attrs:{id:"nav"}},[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("推荐音乐")])],1),n("li",[n("router-link",{attrs:{to:"/hot"}},[t._v("热歌榜")])],1),n("li",[n("router-link",{attrs:{to:"/search"}},[t._v("搜索")])],1)])},a=[],i={},o=i,r=n("2877"),l=Object(r["a"])(o,s,a,!1,null,"175dd004",null);e["default"]=l.exports},"4f34":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"},[n("div",{staticClass:"info-scope",on:{click:function(e){t.show=!t.show}}},[n("img",{staticClass:"rotate",class:{active:t.isPlay},attrs:{src:t.songInfo.picUrl,alt:""}}),n("div",{staticClass:"songInfo"},[n("h5",{staticClass:"s-name"},[t._v(t._s(t.songInfo.song.name))]),n("span",{staticClass:"author"},[t._v(t._s(t.songInfo.song.artists[0].name))])])]),n("div",{staticClass:"control"},[n("canvas",{attrs:{id:"play-progress",width:"25",height:"25"},on:{click:t.changePlayStatus}}),n("i",{class:t.playBtn,attrs:{"aria-hidden":"true"}}),n("i",{staticClass:"fa fa-bars",attrs:{"aria-hidden":"true"},on:{click:function(e){t.showPlayList=!0}}})]),n("audio",{attrs:{src:t.songUrl,controls:""}}),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp"}},[t.showPlayList?n("CurrentPlayList"):t._e()],1),n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInUp"}},[t.show?n("BaseMusicPlayer",{attrs:{currentSong:t.songInfo}}):t._e()],1)],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"current-play-list"},[t._v(" sss ")])},o=[],r={name:"CurrentPlayList"},l=r,c=n("2877"),u=Object(c["a"])(l,i,o,!1,null,null,null),d=u.exports,f={props:["songUrl","songInfo"],created:function(){console.log("kk")},components:{CurrentPlayList:d},data:function(){return{playBtn:{fa:!0,"fa-play":!0,"fa-pause":!1},isPlay:!1,show:!1,showPlayList:!1}},methods:{changePlayStatus:function(){this.isPlay=!this.isPlay,this.playBtn["fa-play"]=!this.playBtn["fa-play"],this.playBtn["fa-pause"]=!this.playBtn["fa-pause"],this.isPlay?this.$el.querySelector("audio").play():this.$el.querySelector("audio").pause()},drawProgress:function(){var t=this.$el.querySelector("audio"),e=this.$el.querySelector("canvas"),n=e.getContext("2d"),s=this;t.onloadstart=function(){t.play(),s.isPlay=!1,s.playBtn["fa-play"]=!0,s.playBtn["fa-pause"]=!1},t.oncanplay=function(){t.play(),s.isPlay=!0,s.playBtn["fa-play"]=!1,s.playBtn["fa-pause"]=!0},t.ontimeupdate=function(){var t=this.currentTime/this.duration*100/50;n.clearRect(0,0,25,25),n.beginPath(),n.strokeStyle="#FF0000",n.lineWidth=1,n.arc(12.5,12.5,12.5,0,t*Math.PI),n.stroke(),n.closePath()}}},mounted:function(){this.drawProgress()}},p=f,g=(n("ddfb"),Object(c["a"])(p,s,a,!1,null,"3513ad3d",null));e["default"]=g.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("4160"),n("d3b7"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var s=n("2b0e"),a=n("bc3a"),i=n.n(a),o={baseURL:"https://music.kele8.cn"},r=i.a.create(o);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},s["a"].use(Plugin);Plugin;var l=n("8c4f"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("BaseHomeLink"),n("div",{staticClass:"personlized"},[n("CardTitle",{staticClass:"card-title"},[t._v("推荐歌单")]),n("div",{staticClass:"personlized-list"},t._l(t.randomPersonlizeds(),(function(t,e){return n("SongListCard",{key:e,staticClass:"songlistcard",attrs:{item:t}})})),1)],1),n("div",{staticClass:"newsong"},[n("CardTitle",{staticClass:"card-title"},[t._v("最新音乐")]),t._l(t.newsongs,(function(e,s){return n("NewSongItem",{key:s,attrs:{item:e},nativeOn:{click:function(n){return t.sendSongId(e)}}})}))],2)],1)},u=[],d=(n("fb6a"),n("2909")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("h3",[t._t("default")],2)])},p=[],g={},h=g,m=(n("27d6"),n("2877")),v=Object(m["a"])(h,f,p,!1,null,"6306e041",null),y=v.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"card",on:{click:function(e){return t.routerPlayListPage(t.item.id,t.playCount)}}},[n("div",{staticClass:"thumb"},[n("img",{attrs:{src:t.item.picUrl,alt:""}}),n("span",[n("i",{staticClass:"fa fa-headphones",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.playCount)+" ")])]),n("h5",[t._v(t._s(t.item.name))])])},_=[],w=(n("b680"),n("25f0"),{data:function(){return{playCount:""}},props:{item:{type:Object,default:function(){return{id:4969079749,type:0,name:"欧美 | 欢快小调拯救你的不开心",copywriter:"编辑推荐：音乐是治愈人心的良药",picUrl:"https://p2.music.126.net/nflx5ZxSSPivvGnyS5WRGw==/109951164906376339.jpg",canDislike:!1,trackNumberUpdateTime:1586934907095,playCount:1209355,trackCount:100,highQuality:!1,alg:"featured"}}}},methods:{getPlayCount:function(t){return t.toString().length>=9?(t/1e8).toFixed(1)+"亿":(t/1e4).toFixed(1)+"万"},routerPlayListPage:function(t,e){this.$router.push({path:"/playlist",query:{id:t,playcount:e}})}},created:function(){this.playCount=this.getPlayCount(this.item.playCount),console.log(this.playCount),console.log(this.item)}}),b=w,S=(n("e2ac"),Object(m["a"])(b,C,_,!1,null,"778d824b",null)),P=S.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list",on:{click:t.changeStatus}},[n("li",{staticClass:"song-item"},[n("div",{staticClass:"top"},[n("div",{staticClass:"song-name"},[t._v(" "+t._s(t.item.name)+" "),n("span",{staticClass:"desc"},[t._v(t._s(t.item.song.alias[0]))])])]),n("p",{staticClass:"bottom"},[n("i",{staticClass:"icon icon-quality"}),n("span",[t._v(t._s(t.getArticleInfo(t.item)))])])]),n("i",{class:t.isPlay})])},O=[],k=(n("a15b"),n("d81d"),n("b0c0"),{name:"NewSongItem",props:["item","isplay"],data:function(){return{isPlay:{icon:!0,"icon-play":!0,fa:!1,"fa-volume-up":!1}}},methods:{getArticleInfo:function(t){return t.song.artists.map((function(t){return t.name})).join("/")+"-"+t.song.album.name},changeStatus:function(){for(var t in this.isPlay)this.isPlay[t]=!1;this.isPlay["fa"]=!0,this.isPlay["fa-volume-up"]=!0}}}),I=k,L=(n("0234"),Object(m["a"])(I,x,O,!1,null,"503e5334",null)),j=L.exports,U={name:"Home",data:function(){return{personalized:[],newsongs:[]}},components:{CardTitle:y,SongListCard:P,NewSongItem:j},methods:{getPersonalized:function(){var t=this;this.axios.get("/personalized").then((function(e){var n=e.data.result;t.personalized=n,window.localStorage.setItem("personalized",JSON.stringify({expire:1*Date.now()*60*60*1e3,result:e.data.result})),console.log(n)})).catch((function(t){console.log(t)}))},sendSongId:function(t){console.log(t.id),this.$emit("tran-song-id",t)},getNewSong:function(){var t=this;this.axios.get("/personalized/newsong").then((function(e){console.log(e),t.newsongs=e.data.result,window.localStorage.setItem("newsong",JSON.stringify({expire:1*Date.now()*60*60*1e3,result:e.data.result})),console.log("歌单",t.newsongs)})).catch((function(t){console.log(t)}))},randomPersonlizeds:function(){return Object(d["a"])(this.personalized).slice(0,6)}},created:function(){this.getNewSong();var t=JSON.parse(window.localStorage.getItem("personalized"));t&&t.expire>Date.now()?this.personalized=t.result:this.getPersonalized(),console.log(t)}},$=U,D=(n("b4ec"),Object(m["a"])($,c,u,!1,null,"205eafa6",null)),B=D.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playlist"},[n("header",{staticClass:"header"},[n("div",{staticClass:"mask",style:{backgroundImage:"url("+t.songListDetail.coverImgUrl+")"}}),n("div",{staticClass:"left"},[n("img",{attrs:{src:t.songListDetail.coverImgUrl,alt:""}}),n("span",[n("i",{staticClass:"fa fa-headphones",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.playCount)+" ")]),n("i",{staticClass:"gedan-icon"},[t._v("歌单")])]),n("div",{staticClass:"right"},[n("h2",[t._v(t._s(t.songListDetail.name))]),n("div",{staticClass:"actor"},[n("img",{attrs:{src:t.songListDetail.creator.avatarUrl,alt:""}}),n("span",[t._v(t._s(t.songListDetail.creator.nickname))])])])]),n("div",{staticClass:"info"},[t.tags?n("div",{staticClass:"tags"},[n("label",[t._v("标签：")]),t._l(t.tags,(function(e,s){return n("span",{key:s},[t._v(t._s(e))])}))],2):t._e(),n("div",{class:t.descClass},[t._v("简介："+t._s(t.songListDetail.description))]),n("i",{staticClass:"fa fa-angle-down drop-down",on:{click:function(e){return t.ctlDescHidden()}}})])])},q=[],z={name:"PlayList",data:function(){return{songListId:this.$route.query.id,playCount:this.$route.query.playcount,songListDetail:"",descClass:{hidden:!0,description:!0}}},methods:{getSongListDetail:function(){var t=this;this.axios.get("/playlist/detail",{params:{id:this.songListId}}).then((function(e){t.songListDetail=e.data.playlist,t.tags=e.data.playlist.tags,window.localStorage.setItem("sl-"+t.$route.query.id,JSON.stringify({expire:3*Date.now()*60*60*1e3,result:e.data.playlist}))})).catch((function(t){console.log(t)}))},ctlDescHidden:function(){this.descClass.hidden=!this.descClass.hidden}},beforeRouteEnter:function(t,e,n){var s=JSON.parse(window.localStorage.getItem("sl-".concat(t.query.id)));if(s&&s.expire>Date.now()){console.log("从缓存取出数据");var a=s.result,i=a.tags;n((function(e){e.songListId=t.query.id,e.songListDetail=a,e.tags=i}))}else window.axios.get("/playlist/detail",{params:{id:t.query.id}}).then((function(e){console.log(e);var s=e.data.playlist,a=e.data.playlist.tags;n((function(e){e.songListId=t.query.id,e.songListDetail=s,e.tags=a})),window.localStorage.setItem("sl-"+t.query.id,JSON.stringify({expire:3*Date.now()*60*60*1e3,result:e.data.playlist}))})).catch((function(t){console.log(t)}))}},N=z,H=(n("5c29"),Object(m["a"])(N,E,q,!1,null,"10a8408d",null)),M=H.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hot"},[n("BaseHomeLink"),n("div",[t._v("热歌榜")])],1)},J=[],F={},R=F,W=Object(m["a"])(R,T,J,!1,null,null,null),A=W.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("BaseHomeLink"),n("div",[t._v("搜索")])],1)},Q=[],Z={},K=Z,V=Object(m["a"])(K,G,Q,!1,null,null,null),X=V.exports;s["a"].use(l["a"]);var Y=[{path:"/",name:"Home",component:B},{path:"/playlist",name:"PlayList",component:M},{path:"/hot",name:"Hot",component:A},{path:"/search",name:"Search",component:X}],tt=new l["a"]({routes:Y}),et=tt,nt=n("8103"),st=n.n(nt),at=n("bba4"),it=n.n(at),ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{on:{"tran-song-id":function(e){return t.getCurrentSongUrl(e)}}}),""!=t.currentSongUrl?n("BaseMusicControler",{attrs:{songUrl:t.currentSongUrl,songInfo:t.currentSongInfo}}):t._e()],1)},rt=[],lt={data:function(){return{currentSongInfo:"",currentSongUrl:""}},methods:{getCurrentSongUrl:function(t){this.currentSongInfo=t,this.currentSongUrl="https://music.163.com/song/media/outer/url?id=".concat(t.id,".mp3"),console.log(this.currentSongUrl)}},created:function(){console.log(this.currentSongId)}},ct=lt,ut=(n("7c55"),Object(m["a"])(ct,ot,rt,!1,null,null,null)),dt=ut.exports;s["a"].config.productionTip=!1;var ft=n("98f1");ft.keys().forEach((function(t){var e=ft(t),n=st()(it()(t.split("/").pop().replace(/\.\w+$/,"")));s["a"].component(n,e.default||e)})),new s["a"]({router:et,render:function(t){return t(dt)}}).$mount("#app")},"5c29":function(t,e,n){"use strict";var s=n("b40c"),a=n.n(s);a.a},"7c55":function(t,e,n){"use strict";var s=n("2395"),a=n.n(s);a.a},"8a26":function(t,e,n){},"95f2":function(t,e,n){"use strict";var s=n("f675"),a=n.n(s);a.a},"98f1":function(t,e,n){var s={"./BaseComponents/BaseHomeLink.vue":"3864","./BaseComponents/BaseMusicControler.vue":"4f34","./BaseComponents/BaseMusicPlayer.vue":"0e08"};function a(t){var e=i(t);return n(e)}function i(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=i,t.exports=a,a.id="98f1"},b40c:function(t,e,n){},b4ec:function(t,e,n){"use strict";var s=n("8a26"),a=n.n(s);a.a},c91f:function(t,e,n){},ce19:function(t,e,n){t.exports=n.p+"img/needle.702cf6d9.png"},d72f:function(t,e,n){},ddfb:function(t,e,n){"use strict";var s=n("c91f"),a=n.n(s);a.a},de4e:function(t,e,n){t.exports=n.p+"img/disc-ip6.69796123.png"},e2ac:function(t,e,n){"use strict";var s=n("1813"),a=n.n(s);a.a},efe0:function(t,e,n){},f675:function(t,e,n){}});
//# sourceMappingURL=app.4d0499af.js.map